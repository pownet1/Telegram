import{M as Z,E as fe,R as W,ai as O,p as de,j as ue,a2 as $,I as me,F as U,aj as he,l as ve}from"./index-d9a2bfe9.js";function ge(e,t=!1){const s=`
  <svg xmlns="http://www.w3.org/2000/svg" class="preloader-circular" viewBox="25 25 50 50">
  <circle class="preloader-path" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10"/>
  </svg>`;if(t){const n=document.createElement("div");return n.classList.add("preloader"),n.innerHTML=s,e&&e.appendChild(n),n}return e.insertAdjacentHTML("beforeend",s),e.lastElementChild}Z.putPreloader=ge;const b=new fe,z="start",K="end";let F=!1,M=W(),D=0;M.resolve();const x=console.log.bind(console.log,"[HEAVY-ANIMATION]:");function j(e,t){F||(M=W(),b.dispatchEvent(z),F=!0,O&&x("start")),++D,O&&x("attach promise, length:",D,t);const s=[t!==void 0?de(t):void 0,e.finally(()=>{})].filter(Boolean),n=performance.now(),i=M;return Promise.race(s).then(()=>{M!==i||M.isFulfilled||(--D,O&&x("promise end, length:",D,performance.now()-n),D<=0&&Ee())}),M}window.dispatchHeavyAnimationEvent=j;function Ee(){M.isFulfilled||(F=!1,D=0,b.dispatchEvent(K),M.resolve(),O&&x("end"))}function He(){return M}function Be(e,t,s){F&&e();const n=s?s.add(b):b.addEventListener.bind(b),i=s?s.removeManual.bind(s,b):b.removeEventListener.bind(b);return n(z,e),n(K,t),()=>{i(K,t),i(z,e)}}function _(e,t){if(!e.parentNode)return-1;if(t)return Array.from(e.parentNode.childNodes).indexOf(e);let s=0;for(;(e=e.previousElementSibling)!==null;)++s;return s}function k(e,t){return me.isRTL&&(e=-e),`translate3d(${e}px, ${t}px, 0)`}const ye={callback:(e,t,s)=>{const n=t.getBoundingClientRect().width,i=[e,t];return s&&i.reverse(),i[0].style.filter="brightness(80%)",i[0].style.transform=k(-n*.25,0),i[1].style.transform=k(n,0),e.classList.add("active"),e.offsetWidth,e.style.transform="",e.style.filter="",()=>{t.style.transform=t.style.filter=""}},animateFirst:!1},we={callback:(e,t,s)=>{const n=t.getBoundingClientRect().width,i=[e,t];return s&&i.reverse(),i[0].style.transform=k(-n,0),i[1].style.transform=k(n,0),e.classList.add("active"),e.offsetWidth,e.style.transform="",()=>{t.style.transform=""}},animateFirst:!1},Le={callback:(e,t,s)=>{const n=t.getBoundingClientRect().width,i=[e,t],v=["slide-right","slide-left"];return s&&(i.reverse(),v.reverse()),i[0].style.transform=k(-n,0),i[1].style.transform=k(n,0),e.classList.add("active",v[0]),t.classList.add(v[1]),e.offsetWidth,e.style.transform="",e.classList.remove(v[0]),()=>{t.style.transform="",t.classList.remove(v[1])}},animateFirst:!1},Te={navigation:ye,premiumTabs:Le,tabs:we},pe=e=>{let{content:t,type:s,transitionTime:n,onTransitionEnd:i,onTransitionStart:v,isHeavy:h=!0,once:w=!1,withAnimationListener:A=!0,listenerSetter:p,animateFirst:L=!1}=e;const{callback:P,animateFirst:E}=Te[s]||{};t.dataset.animation=s,E!==void 0&&(L=E);const r=new Map;let a,f=null;if(A){const o=P?"transitionend":"animationend",g=l=>{ue(l),!(l.target.parentElement!==t||(r.get(l.target)?.(),l.target!==f))&&(!a&&h||(a&&(a.resolve(),a=void 0),i?.(m.prevId()),t.classList.remove("animating","backwards","disable-hover"),w&&(p?p.removeManual(t,o,g):t.removeEventListener(o,g),f=a=void 0,r.clear())))};p?p.add(t)(o,g):t.addEventListener(o,g)}function m(o,g=!0,l){l&&(f=l),o instanceof HTMLElement&&(o=_(o));const y=m.prevId();if(o===y)return!1;v?.(o);const d=t.children[o];if((!$.isAvailable("animations")||y===-1&&!L)&&(g=!1),!A){const u=t.dataset.timeout;u!==void 0&&clearTimeout(+u),delete t.dataset.timeout}if(!g){f?f.classList.remove("active","to","from"):d&&r.get(d)?.(),d&&(d.classList.remove("to","from"),d.classList.add("active")),t.classList.remove("animating","backwards","disable-hover"),f=d,i?.(o);return}A||(t.dataset.timeout=""+window.setTimeout(()=>{d.classList.remove("to"),f&&f.classList.remove("from"),t.classList.remove("animating","backwards","disable-hover"),delete t.dataset.timeout},n)),f&&(f.classList.remove("to"),f.classList.add("from")),t.classList.add("animating");const I=y<o;t.classList.toggle("backwards",!I);let N;if(d&&(P?N=P(d,f,I):d.classList.add("active"),d.classList.remove("from"),d.classList.add("to")),d){const u=d.dataset.transitionTimeout;u&&clearTimeout(+u),r.set(d,()=>{d.classList.remove("to"),r.delete(d)})}if(f){let u;const T=f,c=()=>{clearTimeout(u),T.classList.remove("active","from"),N?.(),r.delete(T)};d?(u=window.setTimeout(c,n+100),r.set(T,c)):(u=window.setTimeout(c,n),r.set(T,()=>{clearTimeout(u),r.delete(T)})),T.dataset.transitionTimeout=""+u,h&&(a||(a=W()),j(a,n*2))}f=d}return m.prevId=()=>f?_(f):-1,m.getFrom=()=>f,m.setFrom=o=>f=o,m},q=new Map;function Me(e){H(e);const t={isCancelled:!1,deferred:W()};return q.set(e,t),t.deferred.then(()=>{ee(e)===t&&q.delete(e)}),t}function ee(e){return q.get(e)}function H(e){const t=ee(e);t&&(t.isCancelled=!0,t.deferred.resolve())}function te(e,t,s){return s||(s=Me(t)),U(()=>{s.isCancelled||(e()?te(e,t,s):s.deferred.resolve())}),s.deferred}function Se(e){return!!e?.isConnected}const Y=250,be=600,se=1500,Ae=500;var ne=(e=>(e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Static=2]="Static",e))(ne||{});function Pe(e){if(e.margin??(e.margin=0),e.maxDistance??(e.maxDistance=se),e.axis??(e.axis="y"),(!$.isAvailable("animations")||e.forceDuration===0)&&(e.forceDirection=2),e.forceDirection===2)return e.forceDuration=0,V(e);const t=he().then(()=>V(e));return e.axis==="y"?j(t):t}function V(e){const{element:t,container:s,getNormalSize:n,getElementPosition:i,transitionFunction:v,axis:h,margin:w,position:A,forceDirection:p,maxDistance:L,forceDuration:P}=e;if(!Se(t))return H(s),Promise.resolve();const E=h==="y"?"top":"left",r=h==="y"?"bottom":"right",a=h==="y"?"height":"width",f=h==="y"?"scrollHeight":"scrollWidth",m=h==="y"?"scrollHeight":"offsetWidth",o=h==="y"?"scrollTop":"scrollLeft",g=t.getBoundingClientRect(),l=s.getBoundingClientRect?s.getBoundingClientRect():document.body.getBoundingClientRect(),y=g[E]-l[E],d=i?i({elementRect:g,containerRect:l,elementPosition:y}):y,I=t[m],N=n?n({rect:l}):l[a];let u=s[o];const T=s[f];let c;switch(A){case"start":c=d-w;break;case"end":c=g[r]-l[r]+w;break;case"nearest":case"center":if(I<N)c=d+I/2-N/2;else{if(e.fallbackToElementStartWhenCentering&&e.fallbackToElementStartWhenCentering!==t)return e.element=e.fallbackToElementStartWhenCentering,e.position="start",V(e);c=d-w}break}if(Math.abs(c-(w||0))<1)return H(s),Promise.resolve();let R;if(h==="y"&&p===void 0&&(c>L?(R=u+=c-L,c=L):c<-L&&(R=u+=c+L,c=-L)),c<0){const S=-u;c=Math.max(c,S)}else if(c>0){const S=T-(u+N);c=Math.min(c,S)}const G=u+c,J=Math.abs(c),C=P??Y+J/se*(be-Y),re=Date.now(),oe=v??(J<Ae?Ne:Ie),X=()=>C?Math.min((Date.now()-re)/C,1):1,Q=()=>{R!==void 0&&(s[o]=R,R=void 0);const S=X(),le=oe(S),ce=c*(1-le);return s[o]=Math.round(G-ce),S<1};if(!C||!c)return H(s),Q(),Promise.resolve();if(e.startCallback){const S=T-Math.round(G+s[h==="y"?"offsetHeight":"offsetWidth"]);e.startCallback({scrollSize:T,scrollPosition:u,distanceToEnd:S,path:c,duration:C,containerRect:l,elementRect:g,getProgress:X})}return te(Q,s)}function Ie(e){return 1-(1-e)**5}function Ne(e){return 1-(1-e)**3.5}function De(e,t){if(!e)return null;if(e.parentElement===t)return e;for(;e.parentElement;)if(e=e.parentElement,e.parentElement===t)return e;return null}function ke(e,t){const s=new Event(t,{bubbles:!0,cancelable:!0});e.dispatchEvent(s)}let ie;document.addEventListener("mousedown",e=>{ie=e.target});function Re(e){if(e.isTrusted&&e.type==="click"&&e.target!==ie)return!0}const B=ve?"mousedown":"click";function _e(e,t,s={}){const n=s.listenerSetter?s.listenerSetter.add(e):e.addEventListener.bind(e),i=s.listenerSetter?s.listenerSetter.removeManual.bind(s.listenerSetter,e):e.removeEventListener.bind(e);if(s.touchMouseDown=!0,B==="click"&&!s.ignoreMove){const v=t;t=h=>{Re(h)||v(h)}}return n(B,t,s),()=>i(B,t,s)}function Fe(e){ke(e,B)}function Ce(e,t,s,n,i=200,v,h){const w=pe({content:t,type:e||t.dataset.animation==="tabs"?"tabs":"navigation",transitionTime:i,onTransitionEnd:n,listenerSetter:h});if(!e)return w;const A=new Proxy(w,{apply:(E,r,a)=>{const f=a[1]!==void 0?a[1]:!0;let m,o;a[0]instanceof HTMLElement?(m=_(a[0]),o=a[0]):(m=+a[0],o=e.querySelector(`[data-tab="${m}"]`)||e.children[m]),p(o,m,f)}}),p=async(E,r,a=!0)=>{const f=t.children[r];if(s){const l=s(r,f,a),y=l instanceof Promise?await l:l;if(y!==void 0&&!y)return}v&&v.scrollIntoViewNew({element:E.parentElement.children[r],position:"center",forceDirection:a?void 0:ne.Static,forceDuration:i,axis:"x"}),$.isAvailable("animations")||(a=!1);const m=w.prevId();if(E.classList.contains("active")||r===m)return!1;const o=a?U:l=>l(),g=e.querySelector(P.toLowerCase()+".active");g&&o(()=>{g.classList.remove("active")}),L&&m!==-1&&a&&o(()=>{const l=E.querySelector("i"),y=E.parentElement.children[m].querySelector("i");y.classList.remove("animate"),l.classList.remove("animate");const d=y.parentElement.parentElement.offsetLeft-l.parentElement.parentElement.offsetLeft,I=y.clientWidth/l.clientWidth;l.style.transform=`translate3d(${d}px, 0, 0) scale3d(${I}, 1, 1)`,U(()=>{l.classList.add("animate"),l.style.transform="none"})}),o(()=>{E.classList.add("active")}),w(r,a)},L=!e.classList.contains("no-stripe"),P=e.firstElementChild.tagName;return _e(e,E=>{let r=E.target;if(r=De(r,e),!r)return!1;let a;if(r.dataset.tab){if(a=+r.dataset.tab,a===-1)return!1}else a=_(r);p(r,a)},{listenerSetter:h}),A}class Oe{constructor(){this.pageId=-1,this.pagesDiv=document.getElementById("auth-pages"),this.scrollableDiv=this.pagesDiv.querySelector(".scrollable"),this.selectTab=Ce(null,this.scrollableDiv.querySelector(".tabs-container"),null,()=>{this.page?.onShown&&this.page.onShown()})}setPage(t){if(t.isAuthPage){this.pagesDiv.style.display="";const s=_(t.pageEl);if(this.pageId===s)return;this.selectTab(s),this.pageId=s,this.scrollableDiv&&Pe({container:this.scrollableDiv,element:this.scrollableDiv.firstElementChild,position:"start"})}else this.pagesDiv.style.display="none",t.pageEl.style.display="",this.pageId=-1;this.page=t}}const ae=new Oe;Z.pagesManager=ae;class We{constructor(t,s,n,i,v){this.isAuthPage=s,this.onFirstMount=n,this.onMount=i,this.onShown=v,this.installed=!1,this.pageEl=document.body.querySelector("."+t)}async mount(...t){if(this.onMount){const s=this.onMount(...t);s instanceof Promise&&await s}if(!this.installed){if(this.onFirstMount)try{const s=this.onFirstMount(...t);s instanceof Promise&&await s}catch(s){console.error("PAGE MOUNT ERROR:",s)}this.installed=!0}ae.setPage(this)}}export{B as C,We as P,_e as a,Fe as b,De as c,Pe as f,He as g,Se as i,ge as p,ke as s,Be as u,_ as w};
//# sourceMappingURL=page-a83e8811.js.map
